# Webpack

## Webpack이란?
- Webpack은 최신 프론트엔드 프레임워크에서 가장 많이 사용되는 모듈 번들러이다. 
    - 모듈 번들러란? 웹 애플리케이션을 구성하는 자원(HTML, CSS, JS, Images 등)을 모두 각각의 모듈로 보고 이를 합쳐서 하나의 결과물을 만드는 도구를 의미한다.

## 모듈이란?
- 프로그래밍 관점에서 특정한 기능을 가지는 작은 코드 단위를 말한다.
- 즉, 성격이 비슷한 기능들을 하나의 의미 있는 파일로 관리하면 모듈이 된다. 

## 웹팩에서 모듈이란?
- 자바스크립트에서만 국한되는 것이 아니라, 웹 애플리케이션을 구성하는 모든 자원들을 의미한다. 

## 모듈 번들러
- 웹 애플리케이션을 구성하는 여러 개의 자원들을 하나의 파일로 병합 해주는 작업을 말한다.

## 웹팩의 등장 배경
1. 파일 단위의 자바스크립트 모듈 관리
2. 웹 개발 작업 자동화 도구(Web Task Manager)
3. 웹 애플리케이션의 빠른 로딩 속도와 높은 성능

### 파일 단위의 자바스크립트 모듈 관리
자바스크립트의 변수 유효 범위는 기본적으로 전역 범위를 가지는 장점이 있다.   
하지만 웹 애플리케이션을 개발할 때 문제가 되는데   
```index.html``` 파일 안에 동일한 변수명을 가진 두개의 자바스크립트 파일을 불러 올 경우
실행을 해보면 마지막에 불러온 파일의 변수가 출력된다.   
파일 단위로 변수를 관리하고 싶을 경우 AMD, Common.js 와 같은 라이브러리를 사용했다.

### 웹 개발 작업 자동화 도구
예전에는 프런트엔드 개발시 텍스트를 수정하고 저장한 후 변경된 브라우저에서 새로고침을 하여 변경된 내용을 확인했다.   
   
이외에도 웹 서비스를 만들고 웹 서버에 배포할 때 다음과 같은 작업을 매번 수행해야했다. 
- HTML, CSS, JS 압축
- 이미지 압축
- CSS 전처리기 변환

### 웹 애플리케이션의 빠른 로딩 속도와 높은 성능
웹 사이트의 로딩 속도를 높이기 위해 브라우저에서 서버로 요청하는 파일의 개수를 줄인다. 이렇게 하기 위해 파일들을 압축하여 하나의 파일로 만든다.   
뿐만 아니라 초기 페이지 로딩 속도를 높이기 위해 나중에 필요한 자원은 나중에 요청하는 레이지 로딩(Lazy Loading)이 등장했다. 

## 웹팩으로 해결하려는 문제?
1. 자바스크립트 변수 유효 범위
2. 브라우저별 HTTP 요청 숫자의 제약
3. 사용하지 않는 코드의 관리
4. Dynamic Loading & Lazy Loading 미지원

### 자바스크립트 변수 유효 범위 문제
- 웹팩은 변수 유효 범위의 문제점을 ES6의 Modules 문법과 웹팩의 모듈 번들링으로 해결한다.

### 브라우저별 HTTP 요청 숫자의 제약
- 웹팩을 이용하여 여러 개의 파일을 하나로 합치면 HTTP 요청 숫자 제약을 피할 수 있다.

### Dynamic Loading & Lazy Loading 미지원
- 웹팩의 Code Splitting 기능을 사용하여 원하는 모듈을 원하는 타이밍에 로딩할 수 있다.

## Node.js와 NPM

### Node.js
Node.js는 브라우저 밖에서도 자바스크립트를 실행할 수 있는 환경을 의미한다.

### NPM(Node Package Manager)
자바스크립트 라이브러리를 설치하고 관리할 수 있는 패키지 매니저이다. 

### NPM 지역 설치와 전역 설치
1. 지역 설치
- ```npm install jquery``` 사용
- 위 명령어로 라이브러리를 설치하면 해당 프로젝트의 ```node_modules``` 라는 폴더가 생긴다. 그 폴더 안에 설치한 라이브러리들의 파일이 있는 것을 확인 할 수 있다.

2. 전역 설치
npm 전역 설치는 시스템 레벨에서 사용할 자바스크립트 라이브러리를 설치할 때 사용한다.
```npm install gulp --global```
라이브러리가 설치되고 나면 이제 해당 라이브러리 이름을 입력했을때 명령어를 인식한다.
```gulp```

즉, 명령어 입력시 실행되게 하려면 전역 설치를 한다!

### NPM 지역 설치 옵션 2가지
```
npm install jquery --save-prod
npm install jquery --save-dev
```
위 명령어는 다음과 같이 축약할 수 있다.

```
npm i jquery
npm i jquery -D
```

- ```npm i jquery```는 ```package.json```의 ```dependencies```에 등록된다.
- ```npm i jquery -D```는 ```package.json```의 ```devDependencies```에 등록된다.

### 개발용 라이브러리와 배포용 라이브러리 구분하기
NPM 지역 설치를 할 때는 해당 라이브러리가 배포용(dependencies)인지 개발용(devDependencies)인지 꼭 구분해주어야 한다. 

- 화면 로직과 직접적으로 관련된 라이브러리는 배포용으로 설치해야 한다.
- 반대로 설치 옵션에 -D를 주었다면 해당 라이브러리는 빌드하고 배포할 때 애플리케이션 코드에서 빠지게 된다. 